<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2004 Sun Microsystems, Inc.  All rights reserved.  You may not modify, use, reproduce, or distribute this software except in compliance with the terms of the License at: 
 http://adventurebuilder.dev.java.net/LICENSE.txt
 $Id: ejb-jar.xml,v 1.12 2005/03/08 00:18:35 smitha Exp $ -->
<ejb-jar version="2.1" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd">

  <display-name>OrderProcessingCenterJAR</display-name>

  <enterprise-beans>

   <session>
      <ejb-name>PoEndpointBean</ejb-name>
      <service-endpoint>com.sun.j2ee.blueprints.opc.powebservice.PurchaseOrderIntf</service-endpoint>
      <ejb-class>com.sun.j2ee.blueprints.opc.powebservice.PoEndpointBean</ejb-class>
      <session-type>Stateless</session-type>
      <transaction-type>Container</transaction-type>
      <resource-ref>  
          <res-ref-name>jms/opc/QueueConnectionFactory</res-ref-name>       
          <res-type>javax.jms.QueueConnectionFactory</res-type>      
          <res-auth>Container</res-auth> 
          <res-sharing-scope>Shareable</res-sharing-scope>   
      </resource-ref>
      <resource-env-ref>             
           <resource-env-ref-name>jms/opc/WorkFlowMgrQueue</resource-env-ref-name>     
           <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
      </resource-env-ref>      
   </session>

   <session>
      <ejb-name>BrokerServiceBean</ejb-name>
      <service-endpoint>com.sun.j2ee.blueprints.opc.webservicebroker.provider.BrokerServiceIntf</service-endpoint>
      <ejb-class>com.sun.j2ee.blueprints.opc.webservicebroker.provider.BrokerServiceBean</ejb-class>
      <session-type>Stateless</session-type>
      <transaction-type>Container</transaction-type>
      <resource-ref>  
          <res-ref-name>jms/opc/QueueConnectionFactory</res-ref-name>       
          <res-type>javax.jms.QueueConnectionFactory</res-type>      
          <res-auth>Container</res-auth> 
          <res-sharing-scope>Shareable</res-sharing-scope>   
      </resource-ref>
      <resource-env-ref>             
           <resource-env-ref-name>jms/opc/WorkFlowMgrQueue</resource-env-ref-name>     
           <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
      </resource-env-ref>      
   </session>

   <session>
      <ejb-name>OtEndpointBean</ejb-name>
      <service-endpoint>com.sun.j2ee.blueprints.opc.otwebservice.OrderTrackingIntf</service-endpoint>
      <ejb-class>com.sun.j2ee.blueprints.opc.otwebservice.OtEndpointBean</ejb-class>
      <session-type>Stateless</session-type>
      <transaction-type>Container</transaction-type>      
      <ejb-local-ref>
          <ejb-ref-name>ejb/local/processmanager/ProcessManager</ejb-ref-name>
          <ejb-ref-type>Session</ejb-ref-type>
          <local-home>com.sun.j2ee.blueprints.processmanager.ejb.ProcessManagerLocalHome</local-home>
          <local>com.sun.j2ee.blueprints.processmanager.ejb.ProcessManagerLocal</local>
          <ejb-link>ProcessManagerBean</ejb-link>
      </ejb-local-ref>
      <ejb-local-ref>
          <ejb-ref-name>ejb/local/purchaseorder/PurchaseOrder</ejb-ref-name>
      <ejb-ref-type>Entity</ejb-ref-type>
      <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.PurchaseOrderLocalHome</local-home>
      <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.PurchaseOrderLocal</local>
      <ejb-link>PurchaseOrderBean</ejb-link>
      </ejb-local-ref>
   </session>

   <message-driven> 
       <ejb-name>WorkFlowManagerBean</ejb-name> 
       <ejb-class>com.sun.j2ee.blueprints.opc.workflowmanager.WorkFlowManagerBean</ejb-class>    
       <messaging-type>javax.jms.MessageListener</messaging-type>
       <transaction-type>Container</transaction-type>  
       <message-destination-type>javax.jms.Queue</message-destination-type>

       <!-- set this to true to enable email notifications-->
       <env-entry>
           <env-entry-name>param/SendMail</env-entry-name>
       <env-entry-type>java.lang.Boolean</env-entry-type>
       <env-entry-value>false</env-entry-value>
       </env-entry>  

       <!-- initial expiration and interval in minutes for the timer to update order status-->
       <env-entry>
           <env-entry-name>param/OrderStatusTimerInitialExpiration</env-entry-name>
       <env-entry-type>java.lang.Integer</env-entry-type>
       <env-entry-value>1</env-entry-value>
       </env-entry>  
       <env-entry>
           <env-entry-name>param/OrderStatusTimerInterval</env-entry-name>
       <env-entry-type>java.lang.Integer</env-entry-type>
       <env-entry-value>1</env-entry-value>
       </env-entry>     
      <ejb-local-ref>
          <ejb-ref-name>ejb/local/processmanager/ProcessManager</ejb-ref-name>
          <ejb-ref-type>Session</ejb-ref-type>
          <local-home>com.sun.j2ee.blueprints.processmanager.ejb.ProcessManagerLocalHome</local-home>
          <local>com.sun.j2ee.blueprints.processmanager.ejb.ProcessManagerLocal</local>
          <ejb-link>ProcessManagerBean</ejb-link>
      </ejb-local-ref>
      <ejb-local-ref>
          <ejb-ref-name>ejb/local/purchaseorder/PurchaseOrder</ejb-ref-name>
      <ejb-ref-type>Entity</ejb-ref-type>
      <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.PurchaseOrderLocalHome</local-home>
      <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.PurchaseOrderLocal</local>
      <ejb-link>PurchaseOrderBean</ejb-link>
      </ejb-local-ref>
      <service-ref>
          <description>service ref</description>
          <service-ref-name>service/CreditCardService</service-ref-name>
          <service-interface>com.sun.j2ee.blueprints.opc.financial.CreditCardService</service-interface>
          <wsdl-file>META-INF/wsdl/CreditCardService.wsdl</wsdl-file>
          <jaxrpc-mapping-file>META-INF/bank-creditcard-jaxrpc-mapping.xml</jaxrpc-mapping-file>
          <service-qname xmlns:servicens="urn:CreditCardService">servicens:CreditCardService</service-qname>
      </service-ref>
      <resource-ref>  
          <res-ref-name>jms/opc/QueueConnectionFactory</res-ref-name>       
          <res-type>javax.jms.QueueConnectionFactory</res-type>      
          <res-auth>Container</res-auth> 
          <res-sharing-scope>Shareable</res-sharing-scope>   
      </resource-ref>
      <resource-env-ref>             
           <resource-env-ref-name>jms/opc/OrderFillerQueue</resource-env-ref-name>     
           <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
      </resource-env-ref>
      <resource-env-ref>             
           <resource-env-ref-name>jms/opc/CRMQueue</resource-env-ref-name>     
           <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
      </resource-env-ref>
   </message-driven>

   <message-driven> 
       <ejb-name>OrderFillerBean</ejb-name> 
       <ejb-class>com.sun.j2ee.blueprints.opc.orderfiller.OrderFillerBean</ejb-class>    
       <messaging-type>javax.jms.MessageListener</messaging-type>
       <transaction-type>Container</transaction-type>  
       <message-destination-type>javax.jms.Queue</message-destination-type>      
       <resource-ref>  
          <res-ref-name>jms/opc/QueueConnectionFactory</res-ref-name>       
          <res-type>javax.jms.QueueConnectionFactory</res-type>      
          <res-auth>Container</res-auth> 
          <res-sharing-scope>Shareable</res-sharing-scope>   
       </resource-ref>
       <resource-env-ref>             
           <resource-env-ref-name>jms/opc/WebServiceBrokerQueue</resource-env-ref-name>     
           <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
       </resource-env-ref>
   </message-driven>

   <message-driven> 
       <ejb-name>BrokerRequestorBean</ejb-name> 
       <ejb-class>com.sun.j2ee.blueprints.opc.webservicebroker.requestor.BrokerRequestorBean</ejb-class>    
       <messaging-type>javax.jms.MessageListener</messaging-type>
       <transaction-type>Container</transaction-type>  
       <message-destination-type>javax.jms.Queue</message-destination-type>

       <!-- Class names for supplier client factory -->
       <env-entry>
          <env-entry-name>param/ActivitySupplier</env-entry-name>
    <env-entry-type>java.lang.String</env-entry-type>
    <env-entry-value>com.sun.j2ee.blueprints.opc.webservicebroker.requestor.ActivitySupplierClient</env-entry-value>
       </env-entry>
       <env-entry>
          <env-entry-name>param/LodgingSupplier</env-entry-name>
    <env-entry-type>java.lang.String</env-entry-type>
    <env-entry-value>com.sun.j2ee.blueprints.opc.webservicebroker.requestor.LodgingSupplierClient</env-entry-value>
       </env-entry>
       <env-entry>
          <env-entry-name>param/AirlineSupplier</env-entry-name>
    <env-entry-type>java.lang.String</env-entry-type>
    <env-entry-value>com.sun.j2ee.blueprints.opc.webservicebroker.requestor.AirlineSupplierClient</env-entry-value>
       </env-entry>

       <!-- Service references for supplier webservices-->
       <service-ref>
          <description>service ref</description>
          <service-ref-name>service/ActivityPOService</service-ref-name>
          <service-interface>com.sun.j2ee.blueprints.opc.webservicebroker.requestor.ActivityPurchaseOrderService</service-interface>
    <wsdl-file>META-INF/wsdl/ActivityPurchaseOrderService.wsdl</wsdl-file>
    <jaxrpc-mapping-file>META-INF/activitysupplier-mapping.xml</jaxrpc-mapping-file>
    <service-qname xmlns:servicens="urn:ActivityPurchaseOrderService">servicens:ActivityPurchaseOrderService</service-qname>
       </service-ref>
       <service-ref>
          <description>service ref</description>
          <service-ref-name>service/LodgingPOService</service-ref-name>
          <service-interface>com.sun.j2ee.blueprints.opc.webservicebroker.requestor.LodgingPurchaseOrderService</service-interface>
    <wsdl-file>META-INF/wsdl/LodgingPurchaseOrderService.wsdl</wsdl-file>
    <jaxrpc-mapping-file>META-INF/lodgingsupplier-mapping.xml</jaxrpc-mapping-file>
    <service-qname xmlns:servicens="urn:LodgingPurchaseOrderService">servicens:LodgingPurchaseOrderService</service-qname>
       </service-ref>
       <service-ref>
          <description>service ref</description>
          <service-ref-name>service/AirlinePOService</service-ref-name>
          <service-interface>com.sun.j2ee.blueprints.opc.webservicebroker.requestor.AirlinePurchaseOrderService</service-interface>
    <wsdl-file>META-INF/wsdl/AirlinePurchaseOrderService.wsdl</wsdl-file>
    <jaxrpc-mapping-file>META-INF/airlinesupplier-mapping.xml</jaxrpc-mapping-file>
    <service-qname xmlns:servicens="urn:AirlinePurchaseOrderService">servicens:AirlinePurchaseOrderService</service-qname>
       </service-ref>
   </message-driven>

   <entity>
       <display-name>AddressEB</display-name>
       <ejb-name>AddressBean</ejb-name>
       <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.AddressLocalHome</local-home>
       <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.AddressLocal</local>
       <ejb-class>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.AddressBean</ejb-class>
        <persistence-type>Container</persistence-type>
        <prim-key-class>java.lang.Object</prim-key-class>
        <reentrant>false</reentrant>
        <cmp-version>2.x</cmp-version>
        <abstract-schema-name>Address</abstract-schema-name>
        <cmp-field>
            <description>no description</description>
            <field-name>streetName1</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>streetName2</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>city</field-name>
      </cmp-field>
      <cmp-field>
          <description>no description</description>
          <field-name>state</field-name>
      </cmp-field>
      <cmp-field>
          <description>no description</description>
          <field-name>postalCode</field-name>
      </cmp-field>
      <cmp-field>
          <description>no description</description>
          <field-name>country</field-name>
      </cmp-field>
      <security-identity>
          <use-caller-identity/>
      </security-identity>
    </entity>

    <entity>
        <display-name>ContactInfoEB</display-name>
        <ejb-name>ContactInfoBean</ejb-name>
        <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ContactInfoLocalHome</local-home>
        <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ContactInfoLocal</local>
        <ejb-class>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ContactInfoBean</ejb-class>
        <persistence-type>Container</persistence-type>
        <prim-key-class>java.lang.Object</prim-key-class>
        <reentrant>false</reentrant>
        <cmp-version>2.x</cmp-version>
        <abstract-schema-name>ContactInfo</abstract-schema-name>
        <cmp-field>
            <description>no description</description>
            <field-name>phone</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>email</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>givenName</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>familyName</field-name>
        </cmp-field>
        <ejb-local-ref>
            <ejb-ref-name>ejb/local/Address</ejb-ref-name>
            <ejb-ref-type>Entity</ejb-ref-type>
            <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.AddressLocalHome</local-home>
            <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.AddressLocal</local>
            <ejb-link>AddressBean</ejb-link>
        </ejb-local-ref>
        <security-identity>
           <use-caller-identity/>
        </security-identity>
    </entity>

    <entity>
        <display-name>LodgingEB</display-name>
        <ejb-name>LodgingBean</ejb-name>
        <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.LodgingLocalHome</local-home>
        <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.LodgingLocal</local>
        <ejb-class>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.LodgingBean</ejb-class>
        <persistence-type>Container</persistence-type>
        <prim-key-class>java.lang.Object</prim-key-class>
        <reentrant>false</reentrant>
        <cmp-version>2.x</cmp-version>
        <abstract-schema-name>Lodging</abstract-schema-name>
        <cmp-field>
            <description>no description</description>
             <field-name>startDate</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>lodgingId</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>noNights</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>endDate</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>location</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>noRooms</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>name</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>pricePerNight</field-name>
        </cmp-field>
        <security-identity>
            <use-caller-identity></use-caller-identity>
        </security-identity>
    </entity>

    <entity>
        <display-name>CreditCardEB</display-name>
        <ejb-name>CreditCardBean</ejb-name>
        <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.CreditCardLocalHome</local-home>
        <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.CreditCardLocal</local>
        <ejb-class>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.CreditCardBean</ejb-class>
        <persistence-type>Container</persistence-type>
        <prim-key-class>java.lang.Object</prim-key-class>
        <reentrant>false</reentrant>
        <cmp-version>2.x</cmp-version>
        <abstract-schema-name>CreditCard</abstract-schema-name>
        <cmp-field>
            <description>no description</description>
            <field-name>cardNumber</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>cardType</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>cardExpiryDate</field-name>
        </cmp-field>
        <security-identity>
            <use-caller-identity></use-caller-identity>
        </security-identity>
    </entity>

    <entity>
        <display-name>PurchaseOrderEB</display-name>
        <ejb-name>PurchaseOrderBean</ejb-name>
        <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.PurchaseOrderLocalHome</local-home>
        <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.PurchaseOrderLocal</local>
        <ejb-class>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.PurchaseOrderBean</ejb-class>
        <persistence-type>Container</persistence-type>
        <prim-key-class>java.lang.String</prim-key-class>
        <reentrant>false</reentrant>
        <cmp-version>2.x</cmp-version>
        <abstract-schema-name>PurchaseOrder</abstract-schema-name>
        <cmp-field>
            <description>no description</description>
            <field-name>locale</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>totalPrice</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>startDate</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>userId</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>departureCity</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>endDate</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>orderDate</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>headCount</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>poId</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>emailId</field-name>
        </cmp-field>
        <primkey-field>poId</primkey-field>
        <ejb-local-ref>
            <ejb-ref-name>ejb/local/CreditCard</ejb-ref-name>
            <ejb-ref-type>Entity</ejb-ref-type>
            <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.CreditCardLocalHome</local-home>
            <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.CreditCardLocal</local>
            <ejb-link>CreditCardBean</ejb-link>
        </ejb-local-ref>
        <ejb-local-ref>
            <ejb-ref-name>ejb/local/ContactInfo</ejb-ref-name>
            <ejb-ref-type>Entity</ejb-ref-type>
            <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ContactInfoLocalHome</local-home>
            <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ContactInfoLocal</local>
            <ejb-link>ContactInfoBean</ejb-link>
        </ejb-local-ref>
        <ejb-local-ref>
            <ejb-ref-name>ejb/local/Activity</ejb-ref-name>
            <ejb-ref-type>Entity</ejb-ref-type>
            <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ActivityLocalHome</local-home>
            <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ActivityLocal</local>
            <ejb-link>ActivityBean</ejb-link>
        </ejb-local-ref>
        <ejb-local-ref>
            <ejb-ref-name>ejb/local/Lodging</ejb-ref-name>
            <ejb-ref-type>Entity</ejb-ref-type>
            <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.LodgingLocalHome</local-home>
            <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.LodgingLocal</local>
            <ejb-link>LodgingBean</ejb-link>
        </ejb-local-ref>
        <ejb-local-ref>
            <ejb-ref-name>ejb/local/Transportation</ejb-ref-name>
            <ejb-ref-type>Entity</ejb-ref-type>
            <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.TransportationLocalHome</local-home>
             <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.TransportationLocal</local>
             <ejb-link>TransportationBean</ejb-link>
        </ejb-local-ref>
        <security-identity>
            <use-caller-identity></use-caller-identity>
        </security-identity>
    </entity>

    <entity>
        <display-name>TransportationEB</display-name>
        <ejb-name>TransportationBean</ejb-name>
        <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.TransportationLocalHome</local-home>
        <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.TransportationLocal</local>
        <ejb-class>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.TransportationBean</ejb-class>
        <persistence-type>Container</persistence-type>
        <prim-key-class>java.lang.Object</prim-key-class>
        <reentrant>false</reentrant>
        <cmp-version>2.x</cmp-version>
        <abstract-schema-name>Transportation</abstract-schema-name>
        <cmp-field>
            <description>no description</description>
            <field-name>transportationId</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>departureDate</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>destination</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>travelClass</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>price</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>carrier</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>origin</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>departureTime</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>headCount</field-name>
        </cmp-field>
        <security-identity>
            <use-caller-identity></use-caller-identity>
        </security-identity>
    </entity>

    <entity>
        <display-name>ActivityEB</display-name>
        <ejb-name>ActivityBean</ejb-name>
        <local-home>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ActivityLocalHome</local-home>
        <local>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ActivityLocal</local>
        <ejb-class>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ActivityBean</ejb-class>
        <persistence-type>Container</persistence-type>
        <prim-key-class>java.lang.Object</prim-key-class>
        <reentrant>false</reentrant>
        <cmp-version>2.x</cmp-version>
        <abstract-schema-name>Activity</abstract-schema-name>
        <cmp-field>
            <description>no description</description>
            <field-name>activityId</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>startDate</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>price</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>endDate</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>headCount</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>location</field-name>
        </cmp-field>
        <cmp-field>
            <description>no description</description>
            <field-name>name</field-name>
        </cmp-field>
        <security-identity>
            <use-caller-identity></use-caller-identity>
        </security-identity>
    </entity>

    <message-driven> 
        <ejb-name>CRMBean</ejb-name> 
        <ejb-class>com.sun.j2ee.blueprints.opc.crm.ejb.CrmBean</ejb-class>    
        <messaging-type>javax.jms.MessageListener</messaging-type>
        <transaction-type>Container</transaction-type>  
        <message-destination-type>javax.jms.Queue</message-destination-type>
        <resource-ref>
          <res-ref-name>mail/MailSession</res-ref-name>
          <res-type>javax.mail.Session</res-type>
          <res-auth>Container</res-auth>
          <res-sharing-scope>Shareable</res-sharing-scope>
        </resource-ref>
    </message-driven>
   </enterprise-beans>

    <relationships>
        <ejb-relation>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ContactInfoBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>ContactInfoBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>address</cmr-field-name>
                </cmr-field>
           </ejb-relationship-role>
           <ejb-relationship-role>
               <ejb-relationship-role-name>AddressBean</ejb-relationship-role-name>
               <multiplicity>One</multiplicity>
               <cascade-delete/>
              <relationship-role-source>
                   <ejb-name>AddressBean</ejb-name>
              </relationship-role-source>
           </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relationship-role>
                <ejb-relationship-role-name>PurchaseOrderBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>PurchaseOrderBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>returnFlightInfo</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ContactInfoBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete></cascade-delete>
                <relationship-role-source>
                    <ejb-name>TransportationBean</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relationship-role>
                <ejb-relationship-role-name>PurchaseOrderBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>PurchaseOrderBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>lodging</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>LodgingBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete></cascade-delete>
                <relationship-role-source>
                    <ejb-name>LodgingBean</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relationship-role>
                <ejb-relationship-role-name>PurchaseOrderBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>PurchaseOrderBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>activities</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ActivityBean</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <cascade-delete></cascade-delete>
                <relationship-role-source>
                    <ejb-name>ActivityBean</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relationship-role>
                <ejb-relationship-role-name>PurchaseOrderBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>PurchaseOrderBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>departureFlightInfo</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>TransportationBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete></cascade-delete>
                <relationship-role-source>
                    <ejb-name>TransportationBean</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relationship-role>
                <ejb-relationship-role-name>PurchaseOrderBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>PurchaseOrderBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>billingInfo</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ContactInfoBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete></cascade-delete>
                <relationship-role-source>
                    <ejb-name>ContactInfoBean</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relationship-role>
                <ejb-relationship-role-name>PurchaseOrderBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>PurchaseOrderBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>shippingInfo</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ContactInfoBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete></cascade-delete>
                <relationship-role-source>
                    <ejb-name>ContactInfoBean</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relationship-role>
                <ejb-relationship-role-name>PurchaseOrderBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>PurchaseOrderBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>creditCard</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>CreditCardBean</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete></cascade-delete>
                <relationship-role-source>
                    <ejb-name>CreditCardBean</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
    </relationships>

    <assembly-descriptor>

        <method-permission>
            <unchecked></unchecked>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>
        <method-permission>
            <unchecked></unchecked>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>
        <method-permission>
            <unchecked></unchecked>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>
        <method-permission>
            <unchecked></unchecked>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>
        <method-permission>
            <unchecked></unchecked>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>
        <method-permission>
            <unchecked></unchecked>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>
        <method-permission>
            <unchecked></unchecked>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>

        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setFamilyName</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
   <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getFamilyName</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setGivenName</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getGivenName</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getEmail</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setEmail</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setPhone</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getPhone</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>remove</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDetails</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
           <ejb-name>ContactInfoBean</ejb-name>
           <method-intf>Local</method-intf>
           <method-name>setAddress</method-name>
           <method-params>
              <method-param>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.AddressLocal</method-param>
           </method-params>
         </method>
         <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ContactInfoBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getAddress</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setState</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getState</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setPostalCode</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getPostalCode</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>        
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getStreetName2</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setStreetName2</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getStreetName1</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setStreetName1</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setCountry</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getCountry</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getCity</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setCity</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AddressBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDetails</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>     
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setStartDate</method-name>
                <method-params>
                    <method-param>long</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getStartDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getEndDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setEndDate</method-name>
                <method-params>
                    <method-param>long</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setLocation</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getLocation</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setName</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getName</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setNoRooms</method-name>
                <method-params>
                    <method-param>int</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getNoRooms</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setNoNights</method-name>
                <method-params>
                    <method-param>int</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getNoNights</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setPricePerNight</method-name>
                <method-params>
                    <method-param>float</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getPricePerNight</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>remove</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setLodgingId</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getLodgingId</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>

        <container-transaction>
            <method>
                <ejb-name>LodgingBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDetails</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>

        <container-transaction>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getCardNumber</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setCardNumber</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>remove</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setCardExpiryDate</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getCardExpiryDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setCardType</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getCardType</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>CreditCardBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDetails</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>

        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getTotalPrice</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getUserId</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getHeadCount</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getLodging</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDepartureCity</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getCreditCard</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getPO</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getStartDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>remove</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getEndDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getEmailId</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>addActivity</method-name>
                <method-params>
                    <method-param>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ActivityLocal</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setActivities</method-name>
                <method-params>
                    <method-param>java.util.Collection</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getLocale</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDepartureFlightInfo</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getBillingInfo</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getReturnFlightInfo</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getShippingInfo</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getPoId</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getOrderDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>        
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getActivities</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setShippingInfo</method-name>
                <method-params>
                    <method-param>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ContactInfoLocal</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setBillingInfo</method-name>
                <method-params>
                    <method-param>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.ContactInfoLocal</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setCreditCard</method-name>
                <method-params>
                    <method-param>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.CreditCardLocal</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setLodging</method-name>
                <method-params>
                    <method-param>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.LodgingLocal</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setDepartureFlightInfo</method-name>
                <method-params>
                    <method-param>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.TransportationLocal</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setReturnFlightInfo</method-name>
                <method-params>
                    <method-param>com.sun.j2ee.blueprints.opc.purchaseorder.ejb.TransportationLocal</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setUserId</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setEmailId</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setLocale</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setOrderDate</method-name>
                <method-params>
                    <method-param>long</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setTotalPrice</method-name>
                <method-params>
                    <method-param>float</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setHeadCount</method-name>
                <method-params>
                    <method-param>int</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setStartDate</method-name>
                <method-params>
                    <method-param>long</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setEndDate</method-name>
                <method-params>
                    <method-param>long</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PurchaseOrderBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setDepartureCity</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>

        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setTravelClass</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getTravelClass</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setCarrier</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getCarrier</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setDepartureDate</method-name>
                <method-params>
                    <method-param>long</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDepartureDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getOrigin</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setOrigin</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setTransportationId</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getTransportationId</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>remove</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDetails</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setPrice</method-name>
                <method-params>
                    <method-param>float</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getPrice</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setDepartureTime</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDepartureTime</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setDestination</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDestination</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getHeadCount</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>TransportationBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setHeadCount</method-name>
                <method-params>
                    <method-param>int</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setHeadCount</method-name>
                <method-params>
                    <method-param>int</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getHeadCount</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>remove</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setStartDate</method-name>
                <method-params>
                    <method-param>long</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getStartDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setPrice</method-name>
                <method-params>
                    <method-param>float</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getPrice</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setLocation</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getLocation</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setActivityId</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getActivityId</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getDetails</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setEndDate</method-name>
                <method-params>
                    <method-param>long</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getEndDate</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>setName</method-name>
                <method-params>
                    <method-param>java.lang.String</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ActivityBean</ejb-name>
                <method-intf>Local</method-intf>
                <method-name>getName</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
    <container-transaction>
      <method>
        <ejb-name>PoEndpointBean</ejb-name>
        <method-intf>ServiceEndpoint</method-intf>
        <method-name>submitPurchaseOrder</method-name>
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>
    <container-transaction>
      <method>
        <ejb-name>BrokerServiceBean</ejb-name>
        <method-intf>ServiceEndpoint</method-intf>
        <method-name>submitDocument</method-name>
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>
    <container-transaction>
      <method>
        <ejb-name>OtEndpointBean</ejb-name>
        <method-intf>ServiceEndpoint</method-intf>
        <method-name>getOrderDetails</method-name>
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>
    <container-transaction> 
      <method> 
        <ejb-name>WorkFlowManagerBean</ejb-name>
        <method-name>onMessage</method-name>
        <method-params>  
          <method-param>javax.jms.Message</method-param>
        </method-params>        
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>
    <container-transaction> 
      <method> 
        <ejb-name>WorkFlowManagerBean</ejb-name>
        <method-name>ejbTimeout</method-name>
        <method-params>  
          <method-param>javax.ejb.Timer</method-param>
        </method-params>        
      </method>
      <trans-attribute>RequiresNew</trans-attribute>
    </container-transaction>
    <container-transaction> 
      <method> 
        <ejb-name>OrderFillerBean</ejb-name>
        <method-name>onMessage</method-name>
        <method-params>  
          <method-param>javax.jms.Message</method-param>
        </method-params>        
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>
    <container-transaction> 
      <method> 
        <ejb-name>BrokerRequestorBean</ejb-name>
        <method-name>onMessage</method-name>
        <method-params>  
          <method-param>javax.jms.Message</method-param>
        </method-params>        
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>


     <container-transaction>
      <method> 
        <ejb-name>CRMBean</ejb-name>
        <method-name>onMessage</method-name>
        <method-params>  
          <method-param>javax.jms.Message</method-param>
        </method-params>        
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>

  </assembly-descriptor>

</ejb-jar>
